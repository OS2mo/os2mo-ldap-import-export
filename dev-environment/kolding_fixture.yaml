ldap_to_mo:
  Employee:
    objectClass: ramodels.mo.employee.Employee
    _import_to_mo_: "false"
    _ldap_attributes_: ["employeeNumber" , "title" , "givenName" , "sn"]
    uuid: '{{ employee_uuid or NONE }}'
    nickname_given_name: '{{ get_employee_dict(employee_uuid).nickname_given_name }}'
    nickname_surname: '{{ get_employee_dict(employee_uuid).nickname_surname }}'
    cpr_number: '{{ldap.employeeNumber|strip_non_digits or NONE}}'
    user_key: '{{ ldap.title }}'
    given_name: '{{ ldap.givenName }}'
    surname: '{{ ldap.sn }}'
  ADtitle:
    objectClass: ramodels.mo.details.it_system.ITUser
    _import_to_mo_: "true"
    _ldap_attributes_: ["title"]
    user_key: '{{ ldap.title }}'
    itsystem: '{{ get_it_system_uuid(''ADtitle'') }}'
    person: '{{ employee_uuid or NONE }}'
  ADUUID:
    objectClass: ramodels.mo.details.it_system.ITUser
    _import_to_mo_: "true"
    _ldap_attributes_: ["title", "entryUUID"]
    _terminate_: '{{ now()|mo_datestring if ldap.title == "WOW" else NONE }}'
    user_key: '{{ ldap.entryUUID }}'
    itsystem: '{{ get_it_system_uuid(''ADUUID'') }}'
    person: '{{ employee_uuid or NONE }}'
mo_to_ldap:
  Employee:
    employeeNumber: '{{mo_employee.cpr_number}}'
    title: '{{ mo_employee.user_key }}'
    givenName: '{{ mo_employee.given_name }}'
    sn: '{{ mo_employee.surname }}'
  ADtitle:
    title: '{{ mo_employee_it_user.user_key }}'
    employeeNumber: '{{ mo_employee.cpr_number }}'
  ADUUID:
    title: '{{ NONE }}'
    entryUUID: '{{ mo_employee_it_user.user_key }}'
    employeeNumber: '{{ mo_employee.cpr_number }}'
username_generator:
  objectClass: UserNameGenerator
  combinations_to_try: ["FFFX", "LLLX"]
